<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dashboard - Cyborg Gaming Site</title>
        <link rel="icon" type="image/png" href="resources/image/titleicon.jpeg" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
            crossorigin="anonymous"
        ></script>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display;=swap");

            * {
                font-family: "Poppins", sans-serif;
                font-size: 1.02rem;
            }

            html,
            body {
                height: 100%;
                background-color: #27292A;
            }

            .input-focus:focus {
                border-color: #ffa31b;
                box-shadow: 0 0 0 0.25rem rgb(225 162 33 / 25%);
            }

            .table-orange {
                background-color: #ffa31b;
            }

            .button-orange {
                background-color: #EC6090;
            }
            
            .datatable
            {
                background-color: #ffffff;
            }
            

            .button-orange:hover {
                background-color: #CD5DB8;
            }

            .button-orange:focus {
                border-color: #ffa31b;
                box-shadow: 0 0 0 0.25rem rgb(225 162 33 / 25%);
            }

            /* style untuk scroll tbody */
            .tableFixHead {
                overflow: auto;
                height: 575px;
            }
            .tableFixHead thead {
                position: sticky;
                top: 0;
                z-index: 1;
            }

            thead {
                background-color: #EC6090;
                color: white;
            }
            
            .input-focus:focus {
                border-color: #ffa31b;
                box-shadow: 0 0 0 0.25rem rgb(225 162 33 / 25%);
            }
            
            .first-row {
                height: 10%;
            }
            
            .second-row {
                height: 90%
            }
        </style>
    </h:head>
    <h:body>
        <div class="container-fluid h-100">
            <div class="row first-row">
                <div class="col g-0 h-100">
                    <nav class="navbar navbar-expand-lg navbar-light bg-white px-3">
                        <div class="container-fluid">
                            <a class="navbar-brand" href="#">
                                <h:graphicImage class="img-fluid" value="resources/image/logo.png" alt="logo" width="250"/>
                            </a>
                            <button
                                class="navbar-toggler"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#navbarSupportedContent"
                                aria-controls="navbarSupportedContent"
                                aria-expanded="false"
                                aria-label="Toggle navigation"
                                >
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div
                                class="collapse navbar-collapse justify-content-end"
                                id="navbarSupportedContent"
                                >
                                <h:form>
                                    <h:commandButton
                                        value="Logout"
                                        action="/index.xhtml"
                                        class="btn text-white button-orange"
                                        style="color: white"
                                        type="submit"
                                    />
                                </h:form>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
            <div class="row second-row">
                <div class="col-sm-12 col-md-8 px-4">
                    <h2 class="mt-3" style="color:#ffffff">Games Product</h2>
                    <div class="table-responsive mt-3 tableFixHead">
                        
                        <h:dataTable
                            value="#{product.getAllRecords()}"
                            var="prod"
                            class="table table-striped table-hover"
                            rowClasses="datatable"
                        >
                            <h:column>
                                <f:facet name="header">ID</f:facet>
                                #{prod.id}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Product Name</f:facet>
                                #{prod.name}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Genre</f:facet>
                                #{prod.genre}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Developer</f:facet>
                                #{prod.developer}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Stock</f:facet>
                                #{prod.stock}
                            </h:column>
                        </h:dataTable>
                    </div>
                </div>
                <div class="col-sm-12 col-md-4 px-4 bg-white">
                    <h2 class="mt-3" style="color:#ffffff" >  Manipulation Data  </h2>
                    <h:form class="mt-3 needs-validation" p:novalidate="true">
                        <div class="row mb-3">
                            <h:outputLabel for="id" style="color: white" class="col-sm-3 col-form-label" value="Product ID"/>
                            <div class="col-sm-9">
                                <h:inputText p:type="number" class="form-control input-focus" id="id" p:required="true" value="#{product.id}" autocomplete="off"/>
                                <div class="invalid-feedback">
                                    Please enter a product ID
                                </div>
                            </div>
                        </div>
                        <div class="d-grid gap-2">
                            <h:commandButton type="submit" class="btn  button-orange" style="color: white" value="Search" action="#{product.getById()}"/>
                        </div>
                    </h:form>
                    <hr/>
                    <h:form class="needs-validation" p:novalidate="true">    
                        <h:inputHidden
                            class="form-control input-focus"
                            id="id-hidden"
                            value="#{product.id}"
                        />
                        <div class="mb-3">
                            <h:outputLabel for="name" style="color: white" class="form-label">
                                Product Name
                            </h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="name"
                                value="#{product.name}"
                                p:required="true"
                                />
                            <div class="invalid-feedback">
                                Please enter a product name
                            </div>
                        </div>
                        <div class="mb-3">
                            <h:outputLabel for="genre" style="color: white" class="form-label">Genre</h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="genre"
                                value="#{product.genre}"
                                p:required="true"
                            />
                            <div class="invalid-feedback">
                                Please enter a genre
                            </div>
                        </div>
                        <div class="mb-3">
                            <h:outputLabel for="developer" style="color: white" class="form-label">Developer</h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="developer"
                                value="#{product.developer}"
                                p:required="true"
                                />
                            <div class="invalid-feedback">
                                Please enter a developer
                            </div>
                        </div>
                        <div class="mb-3">
                            <h:outputLabel for="stock" style="color:white" class="form-label">Stock</h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="stock"
                                p:type="number"
                                value="#{product.stock}"
                                p:required="true"
                                p:min="1"
                                />
                            <div class="invalid-feedback">
                                Please enter a stock
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-sm-12 col-md-4 mb-3">
                                <h:commandButton class="btn w-100" value="Create" style="background-color:#CD5DB8" action="#{product.saveProduct()}"/>
                            </div>
                            <div class="col-sm-12 col-md-4 mb-3">
                                <h:commandButton class="btn  w-100" value="Update" style="background-color:#EC6090" action="#{product.editProduct()}"/>
                            </div>
                            <div class="col-sm-12 col-md-4 mb-3">
                                <h:commandButton class="btn  w-100" value="Delete" style="background-color: #CD5DB8" action="#{product.deleteProduct()}"/>
                            </div>
                          </div>
                    </h:form>
                </div>
            </div>
        </div>
        <script>
            // Example starter JavaScript for disabling form submissions if there are invalid fields
            (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                        form.addEventListener('submit', function (event) {
                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                            }

                            form.classList.add('was-validated')
                        }, false)
                   })
            })()
        </script>
    </h:body>
</html>

